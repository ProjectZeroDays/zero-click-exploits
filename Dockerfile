# Use an official Python runtime as a parent image
FROM python:3.9-slim

# Set the working directory in the container to /app
WORKDIR /app

# Create a new virtual environment
RUN python -m venv venv

# Update PATH to include virtual environment's bin directory but don't use that here.
ENV PATH="/app/venv/bin:$PATH"

COPY entrypoint.sh /
RUN chmod +x /entrypoint.sh 

COPY requirements.txt .

RUN pip install --upgrade pip && \
    pip install --no-cache-dir -r requirements.txt 

COPY . .

EXPOSE 8000 
ENTRYPOINT ["/entrypoint.sh"]
