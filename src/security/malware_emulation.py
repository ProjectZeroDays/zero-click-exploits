
import subprocess

def emulate_malware(malware_path):
    try:
        if not malware_path.endswith(".bin"):  # Ensure only specific file types are emulated
            raise ValueError("Invalid file type for malware emulation")
        result = subprocess.check_output(['sandbox-exec', malware_path], text=True)
        return result
    except (subprocess.CalledProcessError, ValueError) as e:
        return f"Error emulating malware: {e}"

if __name__ == "__main__":
    output = emulate_malware("malware_sample.bin")
    print(output)
