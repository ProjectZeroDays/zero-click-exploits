import os

EXPECTED_STRUCTURE = {
    "src": {
        "app.py": None,
        "custom_dashboards.py": None,
        "dashboard_update_manager.py": None,
        "alerts_notifications.py": None,
        "dashboard": {
            "adware_dashboard": {
                "core": {
                    "adware_manager.py": None,
                    "ai_integration.py": None,
                    "deployment_manager.py": None
                }
            },
            "static": {
                "index.html": None
            }
        }
    }
}

def verify_structure(base_path, structure):
    for name, sub_structure in structure.items():
        path = os.path.join(base_path, name)
        if sub_structure is None:
            if not os.path.isfile(path):
                print(f"File missing: {path}")
        else:
            if not os.path.isdir(path):
                print(f"Directory missing: {path}")
            else:
                verify_structure(path, sub_structure)

def verify_component_linkage():
    components = [
        "src/app.py",
        "src/custom_dashboards.py",
        "src/dashboard_update_manager.py",
        "src/alerts_notifications.py",
        "src/dashboard/adware_dashboard/core/adware_manager.py",
        "src/dashboard/adware_dashboard/core/ai_integration.py",
        "src/dashboard/adware_dashboard/core/deployment_manager.py",
        "src/apt_simulation.py",
        "src/advanced_decryption.py",
        "src/advanced_malware_analysis.py"
    ]
    for component in components:
        if not os.path.isfile(component):
            print(f"Component linkage missing: {component}")

def verify_linkage_to_main_dashboard():
    components = [
        "src/app.py",
        "src/custom_dashboards.py",
        "src/dashboard_update_manager.py",
        "src/alerts_notifications.py",
        "src/dashboard/adware_dashboard/core/adware_manager.py",
        "src/dashboard/adware_dashboard/core/ai_integration.py",
        "src/dashboard/adware_dashboard/core/deployment_manager.py",
        "src/apt_simulation.py",
        "src/advanced_decryption.py",
        "src/advanced_malware_analysis.py"
    ]
    for component in components:
        if not os.path.isfile(component):
            print(f"Component linkage missing: {component}")
        else:
            print(f"Component {component} is properly linked to the main dashboard.")

def verify_correct_placement():
    base_path = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
    verify_structure(base_path, EXPECTED_STRUCTURE)
    verify_component_linkage()
    verify_linkage_to_main_dashboard()

if __name__ == "__main__":
    verify_correct_placement()
